{{< layout}}

{{$pageTitle}}
GOV.UK Pay - View transactions
{{/pageTitle}}

{{$classesOnBodyTag}}transactions index{{/classesOnBodyTag}}

{{$pageSpecificStyle}}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.1/css/bootstrap-datepicker.standalone.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-timepicker/1.10.0/jquery.timepicker.min.css">
{{/pageSpecificStyle}}

{{$pageSpecificJS}}
<script src="/public/js/components/link-follower.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.1/js/bootstrap-datepicker.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-timepicker/1.10.0/jquery.timepicker.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/datepair.js/0.4.14/jquery.datepair.min.js"></script>
<script src="/public/js/components/datetime-picker.js"></script>
{{/pageSpecificJS}}

{{$mainContent}}
<h1 class="heading-large page-title tuck-bottom-sml">Transactions</h1>
<h2 class="heading-medium pull-top pull-bottom">Filter transactions list</h2>

{{>transactions/filter}}


<div>
<h3 class="heading-small" id="total-results">
  {{total}} transactions
  {{#filters.fromDate}}
    from {{filters.fromDate}}
  {{/filters.fromDate}}
  {{#filters.toDate}}
    to {{filters.toDate}}
  {{/filters.toDate}}
  {{#filters.state}}
    with '{{filters.state }}' state
  {{/filters.state}}
  {{#filters.brand}}
    with '{{filters.brand }}' card brand
  {{/filters.brand}}
</h3>

{{>transactions/display_size}}


{{#hasResults}}
{{#permissions.transactions_download_read}}
<a href="{{downloadTransactionLink}}" id="download-transactions-link" class="push-bottom-sml"> Download a spreadsheet of these transactions </a>
{{/permissions.transactions_download_read}}
{{/hasResults}}
</div>

{{>transactions/paginator}}

{{>transactions/list}}

{{>transactions/paginator}}

{{/mainContent}}

{{/layout}}
